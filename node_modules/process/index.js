var thesaurus = require('thesaurus');

function processWord(word, length) {

  var synonyms = thesaurus.find(word);
  var synonymsArray = [];

  function createArray(value, index, ar) {
    var wordCount = value.trim().replace(/\s+/gi, ' ').split(' ').length;
    if (wordCount >= length) {
      synonymsArray.push(value);
    }
  };

  synonyms.forEach(createArray);
  
  if (synonymsArray.length !== 0) {
    var processedWord = {word: word, syn: synonymsArray };
    return processedWord;
  } else {
    return word;
  }

};

function processInput(str) {
  var input = str;
  var array = input.split(' ');
  var inputWordCount = input.trim().replace(/\s+/gi, ' ').split(' ').length;

  for (i = 0; i < inputWordCount; i++) {
    return processWord(array[i], 2);
  }
}